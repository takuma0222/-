# クイックスタートガイド

## ⚡ 5分で始める電子天秤検品システム

**実機不要！** シミュレータを使って、電子天秤システムを即座に体験できます。

### 📋 事前準備

- Windows 10/11
- .NET Framework 4.8（通常はプリインストール済み）
- .NET 9.0 SDK（シミュレータ用）

### ステップ1: 🧪 シミュレータの起動

```powershell
# シミュレータディレクトリに移動
cd BalanceSimulator\BalanceSimulator

# シミュレータをビルド・起動
dotnet run
```

✅ **確認**: シミュレータウィンドウが開き、「ポート9001-9003で待機中」が表示される

### ステップ2: 🎯 検品アプリの起動

```powershell  
# 検品アプリを実行
BalanceInspection\bin\Debug\BalanceInspection.exe
```

✅ **確認**: 検品アプリのメインウィンドウが開く
✅ **自動設定**: TCP接続用の設定ファイルが自動生成される

### ステップ3: 🚀 検品デモの実行

#### 従業員番号の入力
1. 検品アプリの「従業員No」欄に `123456` を入力
2. カード番号欄がアクティブになる

#### カード番号の入力と自動計測
1. 「カード番号」欄に `123456` を入力
2. **自動実行**: 入力完了と同時に以下が発生
   - 使用部材条件がテーブルに表示
   - 初回計測が5秒タイムアウトで自動実行
   - 3台の天秤から重量データを取得

#### 照合処理の実行
1. 「照合」ボタンをクリック
2. 照合時計測が実行される
3. 差分値が計算され、合否判定結果が表示される

### ✅ 動作確認ポイント

#### TCP通信の確認
```powershell
# ポートがリスニングしているか確認
netstat -an | Select-String "900[1-3]"
```
以下のような出力が表示されれば正常：
```
TCP    0.0.0.0:9001    0.0.0.0:0    LISTENING
TCP    0.0.0.0:9002    0.0.0.0:0    LISTENING  
TCP    0.0.0.0:9003    0.0.0.0:0    LISTENING
```

#### 設定ファイルの自動生成
初回起動時に以下が自動生成される：
- `appsettings.json` - TCP接続設定（127.0.0.1:9001-9003）
- `card_conditions.csv` - サンプルカードデータ
   "PortName": "COM1"  # 実際のポート番号に変更
   ```

### ステップ4: アプリケーションの起動

```bash
cd BalanceInspection\bin\Debug
BalanceInspection.exe
```

または、Windowsエクスプローラーから `BalanceInspection.exe` をダブルクリック

### ステップ5: 基本操作を試す

1. **従業員番号を入力**: `123456`（6桁の英数字）
2. **カード番号を入力**: `e00123`（6桁の英数字）
3. 使用部材条件が表示され、初回計測が自動実行される
4. **照合ボタンをクリック**: 照合時計測が実行され、合否判定が表示される
5. **キャンセルボタンをクリック**: 初期画面に戻る

## 実機なしでの動作確認（開発・テスト）

実際の電子天秤が接続されていない場合、アプリケーションは起動しますが計測時にエラーが表示されます。これは正常な動作です。

UI の動作確認のみ行う場合:
- 従業員番号とカード番号の入力検証
- 使用部材条件の表示（計測エラーは無視）
- キャンセル機能

## よくある質問

### Q: "ポート COM1 を開けませんでした" というエラーが出る
A: 正常です。実機が接続されていない場合は計測機能は使用できませんが、UIの確認は可能です。

### Q: "Newtonsoft.Jsonが見つかりません" というエラーが出る
A: NuGetパッケージをリストアしてください:
```bash
nuget restore BalanceInspection.sln
```

### Q: ビルドエラーが出る
A: 
- .NET Framework 4.8がインストールされているか確認
- Visual Studio 2017以降を使用しているか確認
- NuGetパッケージが正しくリストアされているか確認

### Q: 実機テストをしたい
A: 以下を準備してください:
- A&D EK-2000i 3台
- RS-232Cケーブル（D-sub 9ピン、ストレート）×3本
- USB-RS232C変換アダプタ（PCにシリアルポートがない場合）

## 次のステップ

詳細な情報は以下のドキュメントを参照してください:

- **ビルド方法**: [BUILD.md](BUILD.md)
- **デプロイ手順**: [DEPLOYMENT.md](DEPLOYMENT.md)
- **操作マニュアル**: [USER_MANUAL.md](USER_MANUAL.md)
- **技術仕様**: [TECHNICAL_SPEC.md](TECHNICAL_SPEC.md)

## サポート

問題が発生した場合:
1. [USER_MANUAL.md](USER_MANUAL.md) のトラブルシューティングセクションを確認
2. `logs/error/` ディレクトリのエラーログを確認
3. GitHubのIssueを作成して報告

## 開発に参加する

貢献を歓迎します！以下の手順で開発に参加できます:

1. リポジトリをフォーク
2. 機能ブランチを作成 (`git checkout -b feature/AmazingFeature`)
3. 変更をコミット (`git commit -m 'Add some AmazingFeature'`)
4. ブランチにプッシュ (`git push origin feature/AmazingFeature`)
5. プルリクエストを作成

---

**最終更新**: 2024年
**バージョン**: 1.0.0
